<html>
    <head>
        <title>registration</title>
    </head>
    <body>
        <!--put in required for every tag-->
        <form  id="registration_form">
            <div>
                <label for="fname">First name:</label>
                <input type="text" id="fname" size="30" placeholder="Enter first name" pattern="^[a-zA-Z]{1,}$" > 
            </div>
            
            <br>

            <div>
                <label for="lname">Last name:</label>
                <input type="text" id="lname" size="30" placeholder="Enter last name" pattern="^[a-zA-Z]{1,}$" > 
            </div>

            <br>

            <div>
                <label for="new_username">New username:</label>
                <input type="text" id="new_username" size="30" placeholder="Enter new username" > 
            </div>

            <br>

            <div>
                <label for="new_email">email id:</label>
                <input type="email" id="new_email" size="30" placeholder="Enter your Email-ID" > 
            </div>
            
            <br>

            <div>
                <label for="new_password">New Password:</label>
                <input type="password" id="new_password" size="30" placeholder="Enter new password" required> 
                <input type="checkbox" onclick="showPass1()">Show Password 
            </div>

            <br>

            <div>
                <label for="repeated_password">Repeat Password:</label>
                <input type="password" id="repeated_password" size="30" placeholder="Enter password again" required> 
                <input type="checkbox" onclick="showPass2()">Show Password
            </div>

            <br>

            <div>
                <button type="button" onclick="passmatch()">Register</button>
            </div>
            
            <br>

            <div>
                <p id="message"></p>
            </div>
        </form> 
        

    </body>
    <script>
        function showPass1() {

            var x = document.getElementById("new_password");
            if (x.type === "password") {
            x.type = "text";

            } else {
                x.type = "password";
            }
        } 
        function showPass2() {

            var x = document.getElementById("repeated_password");
            if (x.type === "password") {
            x.type = "text";

            } else {
                x.type = "password";
            }
        } 

        function passmatch(){
            var x = document.getElementById("new_password").value;
            
            var y = document.getElementById("repeated_password").value;
            
            var messageElement = document.getElementById("message");

            if(x == y){
                
                messageElement.textContent = "Registered Successfully.";

                let username = document.getElementById("new_username").value;
                let password = document.getElementById("new_password").value;

      //localstorage
                localStorage.setItem('username', username);
                localStorage.setItem('password', password);

                alert("Details saved in local storage");
            }
            else{
                messageElement.textContent = "Fields do not match. Please try again.";
                document.getElementById("repeated_password").value = "";
            }
        }

        
        
    </script>
</html>